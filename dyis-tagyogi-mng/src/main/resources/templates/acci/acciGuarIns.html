<!--
	파일정보 : acciGuar/acciGuarIns.html
	파일명 : acciGuar
	업무명 : acciGuar등록,
	생성자 : 최진호
	생성일 : 2023-04-07
-->
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="/layout/subLayout">
	<body>
		<th:block th:layout="comjs">
			<script th:src="@{/js/guarCom.js}"></script>
		</th:block>
		<script th:inline="javascript">
			/*<![CDATA[*/
			var codeList = /*[[${codeList}]]*/; //공통코드
			var gridColList = /*[[${gridColList}]]*/; //그리드옵션
			var gridOptList = []; //그리드옵션
			//var initParam = {codeList : "AC02:AC03:AC04:AC05:AC06:AC07:CM02", gridNoList : "30105:30106:50106:50105:50107:50108:50109:50110"}
			
			var docCds = ["AC", "AI","PI","GP","LP","CP","AN"]; //AC 사고개요, AI 사고조사, PI 재산정보,  GP공제금지급정보,  LP법적절차, CP 공제금배상(회수), AN 사고정상화
			var docProcSeq = 0; //파일처리코드 가져오는 순번 
			 
			//초기화 조회 콜백
			$(document).ready(function(){
				
				//화면 처리
				//달력부분
				$("#claimDt").val(""); //
				
				//코드값 처리
				com.fnCodeSelectBox("AC07", "accStatCd", 1, ""); //전체
				com.fnCodeSelectBox("CM01", "payWay", 1, ""); //전체
				com.fnCodeSelectBox("CM02", "payBank", 1, ""); //전체
				
				//동적 첨부파일 (다건)
				com.fnIbsUpload($("#myUploadAC")); //사고개요 
				com.fnIbsUpload($("#myUploadAI")); //사고조사
				com.fnIbsUpload($("#myUploadPI")); //재산조사
				com.fnIbsUpload($("#myUploadGP")); //공제금지급
				com.fnIbsUpload($("#myUploadLP")); //법적절차
				com.fnIbsUpload($("#myUploadCP")); //공제금회수
				com.fnIbsUpload($("#myUploadAN")); //사고정상화
					
				//IBsheet 초기화
				com.fnIbsInit(/*[[${menuInfo.workGrid}]]*/);
				
			//	gridOptList[2].Cfg.AutoRowHeight = true;
				//console.log(gridOptList[4]);
				
				//초기 데이터 설정 (id : 시트 객체 ID, el : 시트를 생성할 DIV객체 ID, options : 초기화 구문 변수, data : DATA)
			    IBSheet.create({ id: "sheetSure", el: "sheetDivSure", options: gridOptList[0] });
			    IBSheet.create({ id: "sheetMort", el: "sheetDivMort", options: gridOptList[1] });
			    IBSheet.create({ id: "sheetEnq", el: "sheetDivEnq", options: gridOptList[2] }); //사고조사
			    IBSheet.create({ id: "sheetDdc", el: "sheetDivDdc", options: gridOptList[3] }); //공제급지급
			    IBSheet.create({ id: "sheetPrp", el: "sheetDivPrp", options: gridOptList[4] }); //재산조사
			    IBSheet.create({ id: "sheetLaw", el: "sheetDivLaw", options: gridOptList[5] }); //법적절차
			    IBSheet.create({ id: "sheetRcv", el: "sheetDivRcv", options: gridOptList[6] }); //회수처리
			    IBSheet.create({ id: "sheetNor", el: "sheetDivNor", options: gridOptList[7] }); //정상화
			    
			    
			    //20231222 KSM 배서현 대리 요청으로 잔액 계산
			    sheetDdc.bind("onAfterChange", function(obj){
					rowData = this.getFocusedRow();				//포커스 행
					rowId = sheetDdc.getRowById(rowData.id);	//포커스된 rowId
					
					payAmt = sheetDdc.getValue(rowId, "payAmt");	//실지급금액
					offsetAmt = sheetDdc.getValue(rowId, "offsetAmt");	//상계금액
					balAmt = payAmt - offsetAmt; //잔액
					
					if(obj.col === "payAmt") {
						sheetDdc.setValue(rowId, "balAmt", balAmt);
					}
					
					if(obj.col === "offsetAmt") {
						sheetDdc.setValue(rowId, "balAmt", balAmt);
					}
				});
			});
			
			//보증정보 조회 콜백
			var fnGuarSearchSet = function(resData){
			//	console.log(resData);
				
				
			 	$("#membNo").val(resData.membNo);
				$("#accContrNo").val(resData.contrNo);
				$("#accGuarNo").val(resData.guarNo);
				$("#accDocNo").val(resData.docNo);
				
				// 보증상세 정보 호출
				param = {membNo : resData.membNo, contrNo : resData.contrNo, guarNo : resData.guarNo, docNo : resData.docNo};
				obj = {url:"/acciGuar/selectSerchGuar.do", param:param, callBack:fnDtlCallBack, msgYn:"N", sessYn:"Y", loadYn:"Y"};
				com.fnAjaxDef(obj);
			};
			
			var fnDtlCallBack = function (resData){
			//	console.log(resData);
				
				guarType = resData.guar.guarType;
				
				var typeValue = guarType;
				if(guarType === "31")	typeValue = "13";
				if(guarType === "32")	typeValue = "12";
				if(guarType === "33" || guarType === "34")	typeValue = "15";
				
				com.fnSetKeyVal(resData.memb, "areaMemb"); //조합원정보
				com.fnSetKeyVal(resData.contr, "areaGuarContr");
				
				$("#ele_limitAmt").text(resData.contr["limitAmt"+typeValue]);	//한도금액
				$("#ele_useAmt").text(resData.contr["useAmt"+typeValue]);		//사용액
				$("#ele_remainAmt").text(resData.contr["remainAmt"+typeValue]);	//가능액
				$("#ele_guarBegDt").text(resData.guar["guarBegDt"]);	        //보증기간
				$("#ele_guarExpDt").text(resData.guar["guarExpDt"]);	        //보증기간
				$("#ele_orderNm").text(resData.guar["orderNm"]);	            //피공제기관
				$("#ele_guarAmt").text(resData.guar["guarAmt"]);	            //보증금액
				$("#ele_accDocNo").text(resData.guar["docNo"]);	                //보증서번호
				
				fnGuarContrViewSet(resData.guar.guarType, resData); //주계약정보 화면설정(상세) guar/comGuarDtl
				com.fnSetKeyVal(resData.guar, "areaGuar");    //보증정보
				sheetSure.loadSearchData(resData.suretyList); //보증인정보
				sheetMort.loadSearchData(resData.mortList);   //담보정보
				
		//		$("#payWay").val("");	// 입금방법
		//		$("#payNm").val("");	// 예금주
		//		$("#payBank").val("");	// 입금은행
		//		$("#payAcct").val("");	// 입금계좌
		//		$("#investAmt").val("");// 출자금상계금액
				
			}
			var fnSave = function(){
			//	alert($("input:checkbox[name='managementYn']:checked").val());
				//필수체크
				var valChks = ["accStatCd", "claimDt", "claimAmt", "accReqNm", "accReqTel"];
				
				if(com.fnValChk(valChks)){
					if(confirm("저장 처리 하시겠습니까?")){
						var param = $("#saveFrm").serializeObject();
						param.enq = sheetEnq.getSaveJson(); //사고조사
						param.ddc = sheetDdc.getSaveJson(); //공제금지급
						param.prp = sheetPrp.getSaveJson(); //재산조사
						param.law = sheetLaw.getSaveJson(); //법적절차
						param.rcv = sheetRcv.getSaveJson(); //회수처리
						param.nor = sheetNor.getSaveJson(); //사고정상화
				    
						obj = {url:"/acciGuar/insertAcciGuarProc.do"
								, callBack:fnSaveCallBack
								, jParam:param
								, fileId:"myUploadAC,myUploadAI,myUploadPI,myUploadGP,myUploadLP,myUploadCP,myUploadAN"
								, msgYn:"Y"
								, loadYn:"Y"
								, sessYn:"Y" };
						com.fnAjaxMulti(obj);
					}
				}
				
			};
			
			//저장 콜백
			var fnSaveCallBack = function(data){
				console.log(data.paramMap);
				//상세화면 호출 
				param = {
					menuCd:"1050108", paramMap:{membNo:data.paramMap.membNo, guarNo:data.paramMap.accGuarNo, contrNo:data.paramMap.accContrNo, accNo:data.paramMap.accNo} 
					};
				parent.menuOpen(param);
				
				//현재창 닫기
				parent.closeMenu(window.name);
				
				docProcSeq = 0; //첨부파일처리번호 초기화
				
			};
			
			//행 추가
			var fnRowAdd = function(sheetId){
				var prpCnt = sheetPrp.getTotalRowCount();
				var ddcCnt = sheetDdc.getTotalRowCount();
				
				initData = {};
				if(sheetId.id === "sheetEnq") { //배서현대리 요청사항 20231220 KSM 처리
					com.fnIbsRowAdd("first", initData, sheetId);
				} else{
					if(sheetId.id === "sheetPrp" && prpCnt >= 5) {
						alert("재산조사는 최대 5행까지만 가능합니다");
						return;
					} else if(sheetId.id === "sheetDdc" && ddcCnt >= 3) {
						alert("공제금지급은 최대 3행까지만 가능합니다");
						return;
					} else {
						com.fnIbsRowAdd("pre", initData, sheetId);
					}
				}
				
				
			};
			
			//탭공통
			$(document).ready(function(){
				$('#first-tab-group > div').hide();
				$('#tab1').show();
		        $('.tabBasic a').click(function(e) {
		            e.preventDefault();
		            var $this = $(this),
		                tabgroup = '#' + $this.parents('.tabBasic').data('tabgroup'),
		                tabfn =  $this.parents('.tabBasic').data('tabfunction'),
		                others = $this.closest('li').siblings().children('a'),
		                target = $this.attr('href');
		
			//		console.log(tabgroup);
		            others.removeClass('active');
		            $this.addClass('active');
		            $(tabgroup).children('div').hide();
		            $(target).show();
		
		        });
			});
			
			//보증검색
			var fnGuarSearchPop = function(){
				com.dialpopupOpen("보증검색", "/index/pageCall.do?menuCd=1070708&sSerchType=A", "800", "500"); // menuPage=/com/serchGuar
			}
			
		
		</script>
	<div class="contentsArea">
		<div class="contentsTop">
			<div th:insert="~{/fragments/subTitle}"></div>
		</div><!-- //contentsTop -->
		<form name="saveFrm" id="saveFrm" method="post" onSubmit="return false;" action="">
		<input type="hidden" name="accNo" id="accNo" value="">
		<input type="hidden" name="atthNo" id="atthNo" value="">
		<input type="hidden" name="atthType" id="atthType" th:value="${paramMap.atthType}"/>
		<input type="hidden" name="membNo" id="membNo" value="">
		<input type="hidden" name="accContrNo" id="accContrNo" value="">
		<input type="hidden" name="accGuarNo" id="accGuarNo" value="">
		<input type="hidden" name="accReasonCd" id="accReasonCd" value="10">
		
		<div class="contents flex">
			<!--탭메뉴 시작-->
			<section class="area mt5">
				<div class="tabBasicWrap">
					<ul class="tabBasic" data-tabgroup="first-tab-group">
						<li><a href="#tab1" class="active">사고개요</a></li>
						<li><a href="#tab2" class="">재산조사/사고조사</a></li>
						<li><a href="#tab3" class="">공제금지급/법적절차/회수처리</a></li>
						<li><a href="#tab4" class="">사고정상화</a></li>
					</ul>
				</div>
			</section>
			<div id="first-tab-group">
				<div id="tab1">
					<div class="layer-flex">
						<!-- 그리드 좌측 부분 -->
						<div class="" style="width:49%">
							<section class="area mt5">
								<div class="fl">
									<h4 class="title">사고정보</h4>
								</div>
							</section>
							<table class="tbl">
								<colgroup>
									<col style="width:100px;">
									<col style="">
									<col style="width:100px;">
									<col style="">
								</colgroup>
								<tbody>
									<tr>
										<th>사고관리대상</th>
										<td >
											<input type="checkbox" name ="managementYn" id ="managementYn" value="Y" />
										</td>
										<th><span class="reqMark">*</span>진행상태</th>
										<td >
											<select name="accStatCd" id="accStatCd" title="진행상태" style="width:220px" ></select>
										</td>
										
									</tr>
									<tr>
										<th>사고증권번호</th>
										<td >
											<input type="text" name="accDocNo" id="accDocNo" style="width:140px;" readonly onkeyup="if(window.event.keyCode===13){fnGuarSearchPop()}">
											<button type="button" class="btn icoSearch" onclick="fnGuarSearchPop()" >검색</button>
										</td>
										<th>보증기간</th>
										<td >
											<span id="ele_guarBegDt"></span> ~ <span id="ele_guarExpDt"></span>
										</td>
									</tr>
									<tr>
										<th>피공제기관</th>
										<td >
											<span id="ele_orderNm"></span>
										</td>
										<th>보증금액</th>
										<td >
											<span id="ele_guarAmt"></span>
										</td>
									</tr>
									<tr>
										<th><span class="reqMark">*</span>청구일자</th>
										<td >
											<input type="search" name="claimDt" id="claimDt" title="청구일자" style="width:100px" maxlength="10" onkeyup="com.fnDateMakeForm(this)" onblur="com.fnDateValiChk(this);" />
											<img src="../images/icon_calendar.png" alt="달력" class="calendar-box" onclick="calendar(this, 'claimDt', 'yyyy-mm-dd','','')" />
											
										</td>
										<th><span class="reqMark">*</span>청구금액</th>
										<td >
											<input type="search" name="claimAmt" id ="claimAmt" title="청구금액" style="text-align:right; width:130px;" maxlength="15" onkeyup="com.fnOnlyNum(this);com.makeComma(this);com.addComma();"/>
										</td>
									</tr>
									<tr>
										<th><span class="reqMark">*</span>담당자명</th>
										<td >
											<input type="search" name="accReqNm" id="accReqNm"  title="담당자명" style="width:130px;" maxlength="20" />
										</td>
										<th><span class="reqMark">*</span>연락처</th>
										<td >
											<input type="search" name="accReqTel" id="accReqTel" title="연락처" style="width:130px;" maxlength="13" />
										</td>
									</tr>
									<tr>
										<th>청구내용</th>
										<td colspan="3">
											<textarea type="search" name="claimCont" id="claimCont" title="청구내용" style="width:550px; height:80px;" maxlength="2000" ></textarea>
										</td>
									</tr>
								</tbody>
							</table>
							<section class="area mt5">
								<div class="fl">
									<h4 class="title">공제금지급정보</h4>
								</div>
							</section>
							<table class="tbl">
								<colgroup>
									<col style="width:100px;">
									<col style="">
									<col style="width:100px;">
									<col style="">
								</colgroup>
								<tbody>
									<tr>
										<th>지급방법</th>
										<td >
											<select name="payWay" id="payWay" title="입금방법" style="width:150px" value="" ></select>
										</td>
										<th>예금주</th>
										<td >
											<input type="search" name="payNm" id="payNm"  title="예금주" style="width:150px;" maxlength="20"/>
										</td>
									</tr>
									<tr>
										<th>지급은행</th>
										<td >
											<select name="payBank" id="payBank" title="입금은행" style="width:150px" ></select>
										</td>
										<th>지급계좌</th>
										<td >
											<input type="search" name="payAcct" id="payAcct"  title="입금계좌" style="width:150px;" maxlength="20"/>
										</td>
									</tr>
									<tr>
										<th>공제금지급금액</th>
										<td >
											<input type="search" name="totPayAmt" id ="totPayAmt" title="공제금지급금액" style="text-align:right; width:150px;" readonly/>
										</td>
										<th>출자금상계금액</th>
										<td >
											<input type="search" name="investAmt" id ="investAmt" title="출자금상계금액" style="text-align:right; width:150px;" maxlength="15" onkeyup="com.fnOnlyNum(this);com.makeComma(this);com.addComma();"/>
										</td>
									</tr>
								</tbody>
							</table>
							<div id="areaMemb" >
								<th:block th:include="com/comMemb"></th:block> <!--조합원조회 -->
							</div>
							<div class="wrapBox">
								<section class="area mt5">
									<div class="fl">
										<h4 class="title">보증인정보</h4>
									</div>
								</section>
								<div id="sheetDivSure" style="width:100%;height:130px"></div>
							</div>
							<div class="wrapBox">
								<section class="area mt5">
									<div class="fl">
										<h4 class="title">담보정보</h4>
									</div>
								</section>
								<div id="sheetDivMort" style="width:100%;height:130px"></div>
							</div>
							
							<section class="area mt5">
								<div class="fl">
									<h4 class="title">첨부파일<span style="font-size: 11px; color: #ff6600">(첨부할 파일을 끌어다 놓으시거나, 마우스 오른쪽버튼 -> '추가'로 첨부바랍니다.)</span></h4>
								</div>
								<div class="fr">
		                           <button type="button" onclick="javascript:com.fnIbsFileAdd($('#myUploadAC'));" class="btn small style08">추가</button>
		                           <button type="button" onclick="javascript:com.fnIbsFileDel($('#myUploadAC'));" class="btn small style08">삭제</button>
		                        </div>
							</section>
							<div id="myUploadAC" style="height:150px;"></div>
							
							
							
							
						</div>
						<!-- 그리드 우측 부분 시작 -->
						<!--여긴 영역 감싼 버전으로 -->
						<!--fixScroll 스크롤 넣으면 안쪽영역으로 -->
						<div class="" style="width:49%">
							<!-- 보증정보 구간 -->
							<div id="areaGuar" >
								<section class="area mt5">
								<div class="fl">
									<h4 class="title">보증발급정보</h4>
								</div>
								</section>
								<table class="tbl">
									<colgroup>
										<col style="width:70px;">
										<col style="width:100px">
										<col style="width:70px;">
										<col style="width:100px">
										<col style="width:75px;">
										<col style="width:100px">
									</colgroup>
									<tbody>
										<tr>
											<th>신청일자</th>
											<td>
												<span id="ele_reqDt"></span>
											</td>
											<th>신청유형</th>
											<td>
												<span id="ele_guarReqCdNm"></span>
											</td>
											<th>변경유형</th>
											<td>
												<span id="ele_guarClassCdNm"></span>
											</td>
										</tr>
										<tr>
											<th>발급형태</th>
											<td>
												<span id="ele_guarIssueCdNm"></span>
											</td>
											<th>발급일자</th>
											<td>
												<span id="ele_guarPubDt"></span>
											</td>
											<th>보증상태</th>
											<td>
												<span id="ele_guarStatNm"></span>
											</td>
										</tr>
										<tr>
											<th>보증서번호</th>
											<td>
												<span id="ele_docNo"></span>
											</td>
											<th>최초보증서</th>
											<td>
												<span id="ele_initDocNo"></span>
											</td>
											<th>이전보증서</th>
											<td>
												<span id="ele_befDocNo"></span>
											</td>
										</tr>
									</tbody>
								</table>
								<th:block th:include="guar/comGuarContrDtl"></th:block> <!--약정정보 -->
								<th:block th:include="guar/comGuarDtl"></th:block> <!--보증약정정보 -->
							</div>
							<!-- 보증정보 구간 끝-->
						</div>
						<!-- END 컨텐츠 영역 -->
					</div>
				</div>
				
				<!-- 두번째 탭 -->
				<div id="tab2">
					<div class="layer-flex">
						<!-- 그리드 좌측 부분 -->
						<div class="" style="width:49%">
							<div class="wrapBox">
								<section class="area mt5">
									<div class="fl">
										<h4 class="title">재산조사</h4>
									</div>
									<div class="fr">
										<button type="button" onclick="javascript:fnRowAdd(sheetPrp);" class="btn small style08">행추가</button>
										<button type="button" onclick="javascript:com.fnIbsRowDel(sheetPrp);" class="btn small style08">행삭제</button>
									</div>
								</section>
								<div id="sheetDivPrp" style="width:100%;height:150px"></div>
								<section class="area mt5">
									<div class="fl">
										<h4 class="title">사고조사</h4>
									</div>
									<div class="fr">
										<button type="button" onclick="javascript:fnRowAdd(sheetEnq);" class="btn small style08">행추가</button>
										<button type="button" onclick="javascript:com.fnIbsRowDel(sheetEnq);" class="btn small style08">행삭제</button>
									</div>
								</section>
								<div id="sheetDivEnq" style="width:100%;height:450px"></div>
							</div>
						</div>
						<!-- 그리드 우측 부분 시작 -->
						<!--여긴 영역 감싼 버전으로 -->
						<!--fixScroll 스크롤 넣으면 안쪽영역으로 -->
						<div class="" style="width:49%">
							<div class="wrapBox">
								<section class="area mt5">
									<div class="fl">
										<h4 class="title">첨부파일<span style="font-size: 11px; color: #ff6600">(첨부할 파일을 끌어다 놓으시거나, 마우스 오른쪽버튼 -> '추가'로 첨부바랍니다.)</span></h4>
									</div>
									<div class="fr">
			                           <button type="button" onclick="javascript:com.fnIbsFileAdd($('#myUploadPI'));" class="btn small style08">추가</button>
			                           <button type="button" onclick="javascript:com.fnIbsFileDel($('#myUploadPI'));" class="btn small style08">삭제</button>
			                        </div>
								</section>
								<div id="myUploadPI" style="height:150px;"></div>
								<section class="area mt5">
									<div class="fl">
										<h4 class="title">첨부파일<span style="font-size: 11px; color: #ff6600">(첨부할 파일을 끌어다 놓으시거나, 마우스 오른쪽버튼 -> '추가'로 첨부바랍니다.)</span></h4>
									</div>
									<div class="fr">
			                           <button type="button" onclick="javascript:com.fnIbsFileAdd($('#myUploadAI'));" class="btn small style08">추가</button>
			                           <button type="button" onclick="javascript:com.fnIbsFileDel($('#myUploadAI'));" class="btn small style08">삭제</button>
			                        </div>
								</section>
								<div id="myUploadAI" style="height:450px;"></div>
							</div>
						</div>
						<!-- END 컨텐츠 영역 -->
					</div>
				</div>
				
				<!-- 세번째 탭 -->
				<div id="tab3">
					<div class="layer-flex-mt20">
						<div class="" style="width:100%">	
							<div class="wrapBox">
								<section class="area mt5">
									<div class="fl">
										<h4 class="title">공제금지급</h4>
									</div>
									<div class="fr">
										<button type="button" onclick="javascript:fnRowAdd(sheetDdc);" class="btn small style08">행추가</button>
										<button type="button" onclick="javascript:com.fnIbsRowDel(sheetDdc);" class="btn small style08">행삭제</button>
									</div>
								</section>
								<div id="sheetDivDdc" style="width:100%;height:200px"></div>
								<!-- 
								<section class="area mt5">
									<div class="fl">
										<h4 class="title">첨부파일<span style="font-size: 11px; color: #ff6600">(첨부할 파일을 끌어다 놓으시거나, 마우스 오른쪽버튼 -> '추가'로 첨부바랍니다.)</span></h4>
									</div>
									<div class="fr">
			                           <button type="button" onclick="javascript:com.fnIbsFileAdd($('#myUploadGP'));" class="btn small style08">추가</button>
			                           <button type="button" onclick="javascript:com.fnIbsFileDel($('#myUploadGP'));" class="btn small style08">삭제</button>
			                        </div>
								</section>
								<div id="myUploadGP" style="height:150px;"></div>
								-->
							</div>
						</div>
					</div>
					<div class="layer-flex">
						<!-- 그리드 좌측 부분 -->
						<div class="" style="width:49%">	
							<div class="wrapBox">
								<section class="area mt5">
									<div class="fl">
										<h4 class="title">법적절차(지급처리)</h4>
									</div>
									<div class="fr">
										<button type="button" onclick="javascript:fnRowAdd(sheetLaw);" class="btn small style08">행추가</button>
										<button type="button" onclick="javascript:com.fnIbsRowDel(sheetLaw);" class="btn small style08">행삭제</button>
									</div>
								</section>
								<div id="sheetDivLaw" style="width:100%;height:400px"></div>
								<section class="area mt5">
									<div class="fl">
										<h4 class="title">첨부파일<span style="font-size: 11px; color: #ff6600">(첨부할 파일을 끌어다 놓으시거나, 마우스 오른쪽버튼 -> '추가'로 첨부바랍니다.)</span></h4>
									</div>
									<div class="fr">
			                           <button type="button" onclick="javascript:com.fnIbsFileAdd($('#myUploadLP'));" class="btn small style08">추가</button>
			                           <button type="button" onclick="javascript:com.fnIbsFileDel($('#myUploadLP'));" class="btn small style08">삭제</button>
			                        </div>
								</section>
								<div id="myUploadLP" style="height:150px;"></div>
							</div>
						</div>
						<!-- 그리드 우측 부분 시작 -->
						<!--여긴 영역 감싼 버전으로 -->
						<!--fixScroll 스크롤 넣으면 안쪽영역으로 -->
						<div class="" style="width:49%">	
							<div class="wrapBox">
								<section class="area mt5">
									<div class="fl">
										<h4 class="title">회수처리</h4>
									</div>
									<div class="fr">
										<button type="button" onclick="javascript:fnRowAdd(sheetRcv);" class="btn small style08">행추가</button>
										<button type="button" onclick="javascript:com.fnIbsRowDel(sheetRcv);" class="btn small style08">행삭제</button>
									</div>
								</section>
								<div id="sheetDivRcv" style="width:100%;height:400px"></div>
								<section class="area mt5">
									<div class="fl">
										<h4 class="title">첨부파일<span style="font-size: 11px; color: #ff6600">(첨부할 파일을 끌어다 놓으시거나, 마우스 오른쪽버튼 -> '추가'로 첨부바랍니다.)</span></h4>
									</div>
									<div class="fr">
			                           <button type="button" onclick="javascript:com.fnIbsFileAdd($('#myUploadCP'));" class="btn small style08">추가</button>
			                           <button type="button" onclick="javascript:com.fnIbsFileDel($('#myUploadCP'));" class="btn small style08">삭제</button>
			                        </div>
								</section>
								<div id="myUploadCP" style="height:150px;"></div>
							</div>
						</div>
						<!-- END 컨텐츠 영역 -->
					</div>
				</div>
				
				<!-- 다섯번째 탭 -->
				<div id="tab4">
					<div class="layer-flex">
						<!-- 그리드 좌측 부분 -->
						<div class="" style="width:100%">
							<div class="wrapBox">
								<section class="area mt5">
									<div class="fl">
										<h4 class="title">사고정상화</h4>
									</div>
									<div class="fr">
										<button type="button" onclick="javascript:fnRowAdd(sheetNor);" class="btn small style08">행추가</button>
										<button type="button" onclick="javascript:com.fnIbsRowDel(sheetNor);" class="btn small style08">행삭제</button>
									</div>
								</section>
								<div id="sheetDivNor" style="width:100%;height:400px"></div>
								<section class="area mt5">
									<div class="fl">
										<h4 class="title">첨부파일<span style="font-size: 11px; color: #ff6600">(첨부할 파일을 끌어다 놓으시거나, 마우스 오른쪽버튼 -> '추가'로 첨부바랍니다.)</span></h4>
									</div>
									<div class="fr">
			                           <button type="button" onclick="javascript:com.fnIbsFileAdd($('#myUploadAN'));" class="btn small style08">추가</button>
			                           <button type="button" onclick="javascript:com.fnIbsFileDel($('#myUploadAN'));" class="btn small style08">삭제</button>
			                        </div>
								</section>
								<div id="myUploadAN" style="height:150px;"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="layer-flex mt50">
				<!-- 처리 버튼 영역 -->
				<div class="" style="width:100%">	
					<section class="area">
						<div class="fc">
							<button type="button" onclick="javascript:fnSave();" class="btn style07">저장</button>
						</div>
					</section>
				</div>
				<!-- 처리 버튼 영역 끝-->
			</div>
		</div>
		</form>		
	</div>
	</body>
</html>
