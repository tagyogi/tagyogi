<!--
	파일정보 : memb/popupMembBankHist.html
	파일명 : popupMembBankHist
	업무명 : 조합계좌이력
	생성자 : BSG
	생성일 : 2023.04.05
-->
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="/layout/subLayout">
	<body>
		<script th:inline="javascript">
			/*<![CDATA[*/
			var codeList = /*[[${codeList}]]*/; //공통코드
			var gridColList = /*[[${gridColList}]]*/; //그리드옵션
			var gridOptList = []; //그리드옵션

			//초기화 조회 콜백
			$(document).ready(function(){
				//화면 처리
				//부모창 검색 정보 추출
				$("#sMembNo").val(parent.$("#membNo").val());

				//IBsheet 초기화
				com.fnIbsInit(/*[[${menuInfo.workGrid}]]*/);

				//초기 데이터 설정 (id : 시트 객체 ID, el : 시트를 생성할 DIV객체 ID, options : 초기화 구문 변수, data : DATA)
			    IBSheet.create({ id: "sheet", el: "sheetDiv", options: gridOptList[0] });

			    //시트 생성 이후
			    IBSheet.onRenderFirstFinishAll = function(obj){
					fnSearch(); //조회 호출
				};

			});

			//현황 조회
			var fnSearch = function(){
				//화면 처리 (조합원 정보 조회)
				var selectParam = { membNo: $("#sMembNo").val(), sMembNo : $("#sMembNo").val() };
				obj = {url:"/memb/selectMembBankHistList.do", param:selectParam, callBack:fnSelectCallBack, msgYn:"N", sessYn:"Y", loadYn:"Y"};
				com.fnAjaxDef(obj);
			};

			//현황 조회 콜백
			var fnSelectCallBack = function(resData){
				//console.log(resData);
				//현재계좌정보
				com.fnSetKeyVal(resData.data);
				//시트값 설정(변경이력)
				sheet.loadSearchData(resData.bankHistList);
			}


		    /*]]>*/
		</script>

		<!-- 콘텐츠 시작 -->
		<div class="contentsArea">
			<form name="serchFrm" id="serchFrm" method="post" onSubmit="return false">
				<input type="hidden" name="sMembNo" id="sMembNo" value="">
			</form>
			<section class="area mt5">
				<div class="fl">
					<h4 class="title">현재계좌정보</h4>
				</div>
			</section>
			<table class="tbl">
				<colgroup>
					<col style="width:100px;">
					<col style="width:130px;">
					<col style="width:100px;">
					<col style="">
				</colgroup>
				<tbody>
					<tr>
						<th>거래은행</th>
						<td><div id="ele_bankNm"></div></td>
						<th>예금주</th>
						<td><div id="ele_deptNm"></div></td>
					</tr>
					<tr>
						<th>계좌번호</th>
						<td colspan="3"><div id="ele_acctNo"></div></td>
					</tr>
				</tbody>
			</table>

			<section class="area mt5">
				<div class="fl">
					<h4 class="title">변경이력</h4>
				</div>
			</section>
			<div class="mt10">
		    	<div id="sheetDiv" style="width:100%;height:200px"></div>
			</div>
		</div><!-- //contentsArea -->
		<div class="layer-flex mt20">
			<!-- 처리 버튼 영역 -->
			<div class="" style="width:100%">
				<section class="area">
					<div class="fc">
						<button type="button" onclick="javascript:com.dialpopupClose();" class="btn style08">닫기</button>
					</div>
				</section>
			</div>
			<!-- 처리 버튼 영역 끝-->
		</div>
	</body>
</html>