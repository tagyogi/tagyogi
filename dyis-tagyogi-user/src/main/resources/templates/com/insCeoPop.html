<!--
	시스템구분 : 홈페이지 (콘텐츠 화면 처리 영역)
	파일정보 : insCeoPop.html
	파일명 : insCeoPop.html
	업무명 : 홈페이지 (콘텐츠 화면 처리 영역)
	생성자 : 변성균
	생성일 : 2023.06.21
-->
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xml:lang="ko">
   
<head>
   <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/jquery-ui.min.css">
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/font.css">
    <link rel="stylesheet" href="/css/content.css">
    <script src="/js/jquery-1.10.2.min.js"></script>
	<script src="/js/jquery-3.3.1.min.js"></script>
	<script src="/js/jquery-ui-1.10.3.js"></script>
	<script src="/js/jquery.modal.js"></script>
	<script src="/js/main.js"></script>
	<script src="/js/common.js"></script>
	<script src="/js/calendar.js"></script>
</head>

	<script th:inline="javascript">
	 /*<![CDATA[*/
		var codeList = /*[[${codeList}]]*/; //공통코드

		//화면 초기화 처리 호출
		$(document).ready(function(){
			
			com.fnCodeSelectBox("SY13", "sEmail", 1, '');	//Email
			$("#etcEmail").hide();
		
		});
		
		//주소팝업
		var fnAddrSerch = function() {
			com.fnAddrSerch('popup');
		}
		
		//주소 callBack
		var fnAddrCallBack = function(resData) {
			$("#postNo").val(resData.zipNo); //우편
			$("#doroCd").val(resData.rnMgtSn); //도로코드
			$("#doroNm").val(resData.roadAddrPart1); //도로명
			$("#doroBunho").val(resData.doroBunho); //도로번지
			$("#doroDong").val(resData.emdNm); //주소동
			$("#doroBdNo").val(resData.doroBdNo); //주소번지

			$("#addrFullDoro").val(resData.roadAddrPart1 + "(" + resData.emdNm + " " + resData.doroBdNo + ")"); //주소번지
			$("#addr1").val(resData.jibunAddr);
		}
		
		//이메일 변경 함수
		var fnEmailChg = function() {
			$("#etcEmail").val("");
			
			if($("#sEmail").val() === "90") {
				$("#etcEmail").show();
			} else {
				$("#etcEmail").hide();
			}
		}
		
		//취소 (팝업종료)
		var fnCancel = function(){
			parent.com.dialpopupClose();
		}
		
		var fnSave = function() {
			var valChks = ["ceoNm", "juminNo1", "juminNo2", "ceoTelNo", "ceoCellNo"];
			
			if(com.fnValChk(valChks)){
				if(confirm("저장 처리 하시겠습니까?")){
					var param =$("#saveFrm").serializeObject();
					
					obj = {url:"/memb/insertCeo.do", param:param, callBack:fnSaveCallBack, msgYn:"Y", sessYn:"Y", loadYn:"Y"};
					com.fnAjaxDef(obj);
				}
			}
		}
		
		var fnSaveCallBack() {
			parent.com.dialpopupClose();
		}
		/*]]>*/
	</script>

<body>
    <!-- 업무 안내 영역 끝 -->
    <div class="popWrap">
		<!-- 경로 영역 시작 -->
        <form name="conf" id="conf" method="post" onSubmit="return false;">
			<input type="hidden" th:name="_csrf" th:value="${_csrf?.token}"/>
			<input type="hidden" name="menuCd" id="menuCd" value=""/>
            <!-- 경로 영역 끝 -->
            <section id="content" class="content">
                <!-- 여기서부터 content -->
                <div>
					<form name="popForm" id="popForm">
					<div class="table-wrap">
                        <div class="table-scroll">
                            <table>
								<colgroup>
									<col width="15%" />
									<col width="42%" />
									<col width="15%" />
									<col width="*" />
								</colgroup>
                                <tbody>
                                    <tr>
										<th><span style="color: red">*</span>대표자명</th>
										<td>
											<input type="text" id="ceoNm" name="ceoNm" value="" size="8" style="width:130px;" maxlength="10">
										</td>
										<th>주대표</th>
										<td>
											<label>
												<input type="checkbox" id="majorYn" name="majorYn" />
												<input type="hidden" id="ceoStat" name="ceoStat" />
												주대표
											</label>
										</td>
									</tr>
									<tr>
										<th><span style="color: red">*</span>주민등록번호</th>
										<td colspan="3">
											<input type="text" id="juminNo1" name="juminNo1" value="" style="width:130px;">
											-
											<input type="password" id="juminNo2" name="juminNo2" value="" style="width:130px;">
										</td>
									</tr>
									<tr>
										<th>주소</th>
										<td colspan="3">
											<input type="hidden" name="doroCd" id="doroCd" title="" />
											<input type="hidden" name="doroNm" id="doroNm" title="" />
											<input type="hidden" name="doroBunho" id="doroBunho" title="" />
											<input type="hidden" name="doroDong" id="doroDong" title="" />
											<input type="hidden" name="doroBdNo" id="doroBdNo" title="" />
											
											<ul>
												<li>
													<label for="dr"><input type="radio" name="addrDiv" id="dr" value="DR" class="input1"><span>도로</span></label>
													<input type="text" name="postNo" id="postNo" title="우편번호" style="width:80px" readonly/>
													<button type="button" class="address-btn3" onclick="fnAddrSerch()"></button>
													<input type="text" name="addrFullDoro" id="addrFullDoro" title="도로주소" style="width:320px;" readonly/>
													<input type="text" name="doroDtl" id="doroDtl" title="도로상세" style="width:130px;" maxlength="50" />
												</li>
												<li class="mt3">
													<label for="jb"><input type="radio" name="addrDiv" id="jb" value="JB" class="input1"><span>지번</span></label>
													<input type="text" name="addr1" id="addr1" title="지번주소" style="width:446px;" readonly/>
													<input type="text" name="addr2" id="addr2" title="도로상세" style="width:130px;" maxlength="50" />
												</li>
											</ul>
										</td>
									</tr>
									<tr>
										<th><span style="color: red">*</span>전화번호</th>
										<td><input type="text" id="ceoTelNo" name="ceoTelNo" size="13" maxlength="13" value="" title="전화번호" onkeyup="com.fnOnlyNum(this);com.makeTelNo(this)" style="width:140px"></td>
										<th><span style="color: red">*</span>휴대전화번호</th>
										<td><input type="text" id="ceoCellNo" name="ceoCellNo" size="13" maxlength="13" value="" title="휴대전화번호" onkeyup="com.fnOnlyNum(this);com.makeTelNo(this)" style="width:140px"></td>
									</tr>
									<tr>
										<th>이메일</th>
										<td>
											<input type="text" name="email" id="email" size="14" maxlength="100" style="width:200px;" value="">@
                                            <select id="sEmail" style="width:200px;" onchange="fnEmailChg(this.value);"></select>
                                            <input type="text" name="etcEmail" id="etcEmail" style="width:200px;" maxlength="40" />
										</td>
										<th>수신</th>
										<td>
											<label><input type="checkbox" id="smsYn" name="smsYn" value="Y">SMS수신</label>
											<label><input type="checkbox" id="emailYn" name="emailYn" value="Y">이메일수신</label>
										</td>
									</tr>
									<tr>
										<th>팩스번호</th>
										<td><input type="text" id="ceoFaxNo" name="ceoFaxNo" value=""></td>
										<th>홈페이지</th>
										<td><input type="text" id="ceoHomepage" name="ceoHomepage" value=""></td>
									</tr>
									<tr>
										<th>위임일자</th>
										<td>
											<input type="text" name="charDt" id="charDt" value="" title="탈퇴일자" style="width:120px" maxlength="10" onkeyup="com.fnOnlyNum(this);com.fnDateMakeForm(this)" onblur="com.fnDateValiChk(this);"/>
											<img src="../images/icon_calendar.png" alt="달력" class="calendar-box" onclick="calendar(this, 'charDt', 'yyyy-mm-dd')" />
										</td>
										<th>해임일자</th>
										<td>
											<input type="text" name="discharDt" id="discharDt" value="" title="탈퇴일자" style="width:120px" maxlength="10" onkeyup="com.fnOnlyNum(this);com.fnDateMakeForm(this)" onblur="com.fnDateValiChk(this);"/>
											<img src="../images/icon_calendar.png" alt="달력" class="calendar-box" onclick="calendar(this, 'discharDt', 'yyyy-mm-dd')" />
										</td>
									</tr>
									<tr>
										<th>비고</th>
										<td colspan="3"><textarea id="remark" name="remark" cols="60" rows="3"></textarea></td>
									</tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="tac mt10">
                        <button type="button" class="btn-color sub-btn2" onclick="fnSave();">저장</a></button>
                        <button type="button" class="btn-black sub-btn2" onclick="fnCancel();">취소</button>
                    </div>
                </div>
                </form>
            </section>
        </form>
    </div>
</body>
</html>